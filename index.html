<!DOCTYPE html>
<html ng-app="pcfuidemo">
<head>
<script src="./lib/angular.1.5.8.min.js"></script>
<script src="./lib/angular-resource.min.js"></script>
<script src="./app.js"></script>
<script src="./user/user.module.js"></script>
<script src="./user/user.config.js"></script>
<script src="./user/user.factory.js"></script>
<script src="./user/user.controller.js"></script>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
	integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
	crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="./app.css">
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
</head>
<body>
	<div class="row">
		<div class="col-xs-8 col-xs-offset-2">
			<h2 class="text-center">User CRUD</h2>
		</div>
	</div>
	<div class="row">

		<!-- DEFINITION DU CONTROLLER -->
		<div class="col-xs-8 col-xs-offset-2 panel-group"
			ng-controller='userController'>

			<!-- PANEL FORMULAIRE CREATION -->
			<div class="panel panel-default">
				<div class="panel-heading">
					<h4>User Create</h4>
				</div>
				<div class="panel-body">
					<div class="form-group form-group-sm">
						<form name="createForm" novalidate>
							<label class="col-sm-1 control-label" for="name">Name:</label>
							<div class="col-sm-2">
								<input type="text" class="form-control" ng-model='newuser.name'
									ng-required="true" id="name">
							</div>
							<label class="col-sm-1 control-label" for="firstName">First
								Name:</label>
							<div class="col-sm-2">
								<input type="text" class="form-control"
									ng-model='newuser.firstName' ng-required="true" id="firstName">
							</div>
							<div class="btn-group">
								<button class="btn btn-default  btn-sm"
									ng-click="addUser(newuser)" ng-disabled="createForm.$invalid"
									style="cursor: pointer;">Add</button>
								<button class="btn btn-default  btn-sm"
									ng-click="generateUsers()" style="cursor: pointer;">Generate
									Users</button>
								<button class="btn btn-default  btn-sm"
									ng-click="deleteAllUsers()" style="cursor: pointer;">Delete
									All Users</button>
							</div>
						</form>

					</div>
				</div>
				<div class="panel-footer">
					<i>{{restCreateActionMessage}}</i>
				</div>
			</div>

			<!-- PANEL LISTE UTILISATEURS -->
			<div class="panel panel-default ">
				<div class="panel-heading">
					<h4>User List</h4>
				</div>

				<div class="panel-body">
					<table class="table table-striped table-condensed">
						<!-- HEADER -->
						<tr>
							<th style="width: 5%; cursor: pointer;"
								ng-click="sortColumn='userId'">User Id</th>
							<th style="width: 10%; cursor: pointer;"
								ng-click="sortColumn='name'">Name</th>
							<th style="width: 10%; cursor: pointer;"
								ng-click="sortColumn='firstName'">First Name</th>
							<th style="width: 5%; cursor: pointer;"></th>
						</tr>
						<!-- NG-REPEAT -->
						<tr ng-repeat="user in userList | orderBy : sortColumn"
							ng-mouseover="user.showDel=true"
							ng-mouseleave="user.showDel=false">
							<td>{{user.userId}}</td>
							<td>{{user.name}}</td>
							<td>{{user.firstName}}</td>
							<td style="text-align: right;"><span
								class="glyphicon glyphicon-remove" style="cursor: pointer;"
								ng-click="removeUser(user)" ng-show="user.showDel"
								ng-hide="!user.showDel"></span></td>
						</tr>
					</table>

				</div>
				<div class="panel-footer">
					<i>{{restDeleteActionMessage}}</i>
				</div>
			</div>



		</div>
	</div>



</body>
</html>
